(()=>{"use strict";function t(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1)+t)}const e=function(e){var n=[];return{type:e,attacks:n,attack:function(t,e){t.receiveAttack(e)},computerAttack:function(e){var r=t(0,99);return n.includes(r)||(e.receiveAttack(r),n.push(r)),r}}};function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const o=function(){var e=Array(100).fill(""),r=[{name:"Patrol Boat",length:2},{name:"Submarine",length:3},{name:"Destroyer",length:3},{name:"Battleship",length:4},{name:"Carrier",length:5}],o=[],a=[],i=Array.from({length:100},(function(t,e){return e})),c=[],l=[],u=[],s=function(t){for(var e=0;e<i.length;e+=t)c.push(i.slice(e,e+t));return c=c.slice(0,20)};s(5);var f=function(){for(var t=0;t<c.length;t+=2)u.length<10&&u.push(c[t]);return u=u.flat()},d=function(){for(var t=1;t<c.length;t+=2)l.length<10&&l.push(c[t]);return l=l.flat()};f(),d();var h=function(){for(var t,e=u.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=u[e];u[e]=u[n],u[n]=r,t=u[n]}return t},y=function(e,n){return 5===e&&n>=60?n=t(0,59):4===e&&n>=70?n=t(0,69):3===e&&n>=80?n=t(0,79):2===e&&n>=90&&(n=t(0,89)),n},m=function(e){var n,r=["horizontal","vertical"][t(0,1)],o=[];"horizontal"===r?n=h():(n=t(0,89),y(e,n));for(var a=0;a<e;a++)"horizontal"===r?o.push(n++):o.push(n+=10);return[r,o]},p=function(t,e){for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<e.length;o++)if(r.location.indexOf(e[o])>=0||e[o]>99)return!0;return!1};return{board:e,fleet:o,sunkenShips:a,grid:i,gridSections:c,leftHalf:u,rightHalf:l,renderBoard:function(){return e},createFleet:function(){return r.forEach((function(t){var e,n,r,a=(e=t.name,n=t.length,{name:e,length:n,direction:void 0,location:[],hits:r=[],hit:function(t){return r.push(t),r},isSunk:function(){return r.length===n}});o.push(a)})),o},splitGrid:s,getAllLeftHalfNums:f,getAllRightHalfNums:d,shuffleLeftHalf:h,checkForVerticalRestrictions:y,assignShipLocation:m,checkForOverlap:p,placeShip:function(){var t,e,r=n(o);try{for(r.s();!(e=r.n()).done;){var a=e.value;do{t=m(a.length)}while(p(o,t[1]));a.direction=t[0],a.location=t[1]}}catch(t){r.e(t)}finally{r.f()}return o},receiveAttack:function(t){var e,r=n(o);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i.location.indexOf(t)>=0)return i.hit(t),i.isSunk()&&a.push(i.name),!0}}catch(t){r.e(t)}finally{r.f()}return!1},checkAllSunk:function(){return a.length===o.length}}};function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const c=function t(){var n,r=e("human"),i=e("computer"),c=o(),l=o(),u=document.getElementById("playerOne"),s=document.getElementById("playerTwo"),f=document.querySelector(".human-board"),d=document.querySelector(".computer-board"),h=c.board,y=l.board,m=document.querySelector(".announcement"),p=document.getElementById("playerOneSunken"),v=document.getElementById("playerTwoSunken"),g=document.querySelector(".reset");c.createFleet(),c.placeShip(),l.createFleet(),l.placeShip();var S=function(t,e){for(var n=0;n<t.length;n++){var r,o=a(e.fleet);try{for(o.s();!(r=o.n()).done;)for(var i=r.value,c=0;c<i.location.length;c++)n===i.location[c]&&(t[n]=i.location[c])}catch(t){o.e(t)}finally{o.f()}}return t};S(h,c),S(y,l);var k=function(t,e){t===h?(u.innerText="Your Board",p.textContent="Sunken ships:"):(s.innerText="Enemy Board",v.textContent="Sunken ships:");for(var n=0;n<t.length;n++){var r=document.createElement("div");r.id=n,t===h&&""===t[n]?r.classList.add("empty"):t===y&&""!==t[n]?(r.classList.add("hidden"),r.classList.add("square")):t===y&&""===t[n]?(r.classList.add("empty"),r.classList.add("square")):r.classList.add("occupied"),e.append(r)}};k(h,f),k(y,d);var b=document.querySelectorAll(".square"),A=function t(e){r.attack(l,Number(e.target.id)),e.target.matches(".hidden")?e.target.classList.add("hit"):e.target.innerText="X",e.target.removeEventListener("click",t),x(l.sunkenShips),E();var n=document.getElementById("".concat(i.computerAttack(c)));n.matches(".occupied")?n.classList.add("hit"):n.innerText="X",x(c.sunkenShips),E()},x=function(t){t===c.sunkenShips?p.textContent="Sunken ships: ".concat(c.sunkenShips.join(", ")):v.textContent="Sunken ships: ".concat(l.sunkenShips.join(", "))},E=function(){return!0===c.checkAllSunk()?(n=i,L(),m.style.display="block",m.innerText="Computer wins! Play again!"):!0===l.checkAllSunk()&&(n=r,L(),m.style.display="block",m.innerText="You win! Play again!"),n},L=function(){b.forEach((function(t){t.removeEventListener("click",A)})),g.style.display="block"};b.forEach((function(t){t.addEventListener("click",A)})),g.addEventListener("click",(function(e){u.innerText="",s.innerText="",f.replaceChildren(),d.replaceChildren(),p.textContent="",v.textContent="",t(),m.style.display="none",g.style.display="none"}))};var l=document.querySelector(".start"),u=document.querySelector(".reset"),s=document.querySelector(".announcement");u.style.display="none",l.addEventListener("click",(function(t){c(),s.style.display="none",l.style.display="none"}))})();
//# sourceMappingURL=main.js.map